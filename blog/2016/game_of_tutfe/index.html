<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> A Games of Tufte - Part I | Mirko Mazzoleni </title> <meta name="author" content="Mirko Mazzoleni"> <meta name="description" content="Visualization of Game of Thrones battles"> <meta name="keywords" content="System identification, Fault diagnosis, Condition based maintenance, supervision, monitoring, machine learning, data science, artificial intelligence, control systems"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https:/mirkomazzoleni.github.io/blog/2016/game_of_tutfe/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Mirko</span> Mazzoleni </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">A Games of Tufte - Part I</h1> <p class="post-meta"> Created in August 06, 2016 by Mirko Mazzoleni </p> <p class="post-tags"> <a href="/blog/2016"> <i class="fa-solid fa-calendar fa-sm"></i> 2016 </a>   ·   <a href="/blog/tag/visualization"> <i class="fa-solid fa-hashtag fa-sm"></i> visualization</a>   <a href="/blog/tag/r"> <i class="fa-solid fa-hashtag fa-sm"></i> R</a>   ·   <a href="/blog/category/fun"> <i class="fa-solid fa-tag fa-sm"></i> fun</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p>This report concerns the first part of an exploratory data analysis based on the Games of Thrones dataset hosted on <a href="https://www.kaggle.com/mylesoneill/game-of-thrones" rel="external nofollow noopener" target="_blank">Kaggle</a>. The aim of this work is to familiarize with the data for subsequent analysis, and using the Tufte design rules to represent the plots. During the process, personal domain knowledge (acquired from books and not the tv series) is used to motivate hypothesis and decisions. Since there aren’t motivations or questions that brought me to collect data, in order to answer to them, we let the Exploratory Data Analysis phase to generate questions for us. A sound answer to those questions would require at least another dataset, so we let to fix in mind the fact that we are simply describing the dataset at hand, without the temptation to make inferences or other types of final statements.</p> <p>The entire code for this post can be found <a href="https://github.com/MirkoMazzoleni/MirkoMazzoleni.github.io/blob/master/assets/code/2016-08-05-game_of_tutfe.Rmd" rel="external nofollow noopener" target="_blank">here</a>.</p> <h2 id="data-cleaning-and-questions-generation">Data cleaning and questions generation</h2> <p>After having load the required libraries and the dataset, which contains information about the main battles in the reign of Westeros during the <a href="ttp://awoiaf.westeros.org/index.php/War_of_the_Five_Kings">War of the Five Kings</a>, let’s first take an overview of the dataset at hand by checking the variables at our disposal. We can see \(38\) observations for each of the \(25\) variables. The next step will be to gain confidence with the features and the values they can take.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  'data.frame':	38 obs. of  25 variables:
   $ name              : Factor w/ 38 levels "Battle at the Mummer's Ford",..: 13 1 7 14 18 10 25 5 3 17 ...
   $ year              : int  298 298 298 298 298 298 298 299 299 299 ...
   $ battle_number     : int  1 2 3 4 5 6 7 8 9 10 ...
   $ attacker_king     : Factor w/ 5 levels "","Balon/Euron Greyjoy",..: 3 3 3 4 4 4 3 2 2 2 ...
   $ defender_king     : Factor w/ 7 levels "","Balon/Euron Greyjoy",..: 6 6 6 3 3 3 6 6 6 6 ...
   $ attacker_1        : Factor w/ 11 levels "Baratheon","Bolton",..: 10 10 10 11 11 11 10 9 9 9 ...
   $ attacker_2        : Factor w/ 8 levels "","Bolton","Frey",..: 1 1 1 1 8 8 1 1 1 1 ...
   $ attacker_3        : Factor w/ 3 levels "","Giants","Mormont": 1 1 1 1 1 1 1 1 1 1 ...
   $ attacker_4        : Factor w/ 2 levels "","Glover": 1 1 1 1 1 1 1 1 1 1 ...
   $ defender_1        : Factor w/ 13 levels "","Baratheon",..: 12 2 12 8 8 8 6 11 11 11 ...
   $ defender_2        : Factor w/ 3 levels "","Baratheon",..: 1 1 1 1 1 1 1 1 1 1 ...
   $ defender_3        : logi  NA NA NA NA NA NA ...
   $ defender_4        : logi  NA NA NA NA NA NA ...
   $ attacker_outcome  : Factor w/ 3 levels "","loss","win": 3 3 3 2 3 3 3 3 3 3 ...
   $ battle_type       : Factor w/ 5 levels "","ambush","pitched battle",..: 3 2 3 3 2 2 3 3 5 2 ...
   $ major_death       : int  1 1 0 1 1 0 0 0 0 0 ...
   $ major_capture     : int  0 0 1 1 1 0 0 0 0 0 ...
   $ attacker_size     : int  15000 NA 15000 18000 1875 6000 NA NA 1000 264 ...
   $ defender_size     : int  4000 120 10000 20000 6000 12625 NA NA NA NA ...
   $ attacker_commander: Factor w/ 32 levels "","Asha Greyjoy",..: 8 6 9 22 16 18 6 30 2 28 ...
   $ defender_commander: Factor w/ 29 levels "","Amory Lorch",..: 7 4 10 28 12 14 15 1 1 1 ...
   $ summer            : int  1 1 1 1 1 1 1 1 1 1 ...
   $ location          : Factor w/ 28 levels "","Castle Black",..: 8 13 17 9 27 17 4 12 5 23 ...
   $ region            : Factor w/ 7 levels "Beyond the Wall",..: 7 5 5 5 5 5 5 3 3 3 ...
   $ note              : Factor w/ 6 levels "","Greyjoy's troop number based on the Battle of Deepwood Motte, in which Asha had 1000 soldier on 30 longships. That comes out to"| __truncated__,..: 1 1 1 1 1 1 1 1 1 2 ...
</code></pre></div></div> <h3 id="question-expectation-and-answers">Question, Expectation and Answers</h3> <p>In this section, we will follow the following logical framework:</p> <ol> <li>Letting the exploration generate the questions</li> <li>Setting an expectation for what the data will tell us</li> <li>Revise or confirm the expectation in the light of analysed data</li> </ol> <p>Being the dataset composed most by categorical variables, we want to know first the discrete values that these variables can take, and see if any question arises.</p> <h3 id="categorical-data">Categorical Data</h3> <p>This section deals with the understanding and cleaning of categorical variables in the dataset.</p> <h4 id="attacker-king">Attacker King</h4> <p>The variable represents the attacker’s king. A slash indicates that the king changes over the course of the war. The levels of this variable are:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>""  "Balon/Euron Greyjoy"  "Joffrey/Tommen Baratheon"  "Robb Stark"  "Stannis Baratheon"
</code></pre></div></div> <p>The fact, in some circumstances, that there isn’t an attacking king is not an error: simply can be that there is no attacking king commanding the troops. In this case throwing away missing data can be detrimental, as they can be source of information. For example, a value of “ “ can mean “unknown” or “not applicable”, so it should be encoded in that way. Usually I search for trend in missing data to see if they miss for a reason.</p> <p><strong>Question Q1</strong>: Does the “ “ level mean something? <strong>Expectation E1</strong>: Yes, simply there’s no king. <strong>Answer A1</strong>: The “ “ stands for “NoKing”.</p> <ul> <li>Check the battle names where there is no attacker king and possible notes on that battles:</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>                name                 note
23   Battle of the Burning Septry     
30   Sack of Saltpans
</code></pre></div></div> <ul> <li>Is the missing king due to the battle type? ==&gt; NO, usually pitched battles have a king which guides the army, and troops without a king are expected to act as bandits, preferring a razing or ambush strategy:</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
                     FALSE TRUE
                       1    0
    ambush            10    0
    pitched battle    13    1
    razing             1    1
    siege             11    0
</code></pre></div></div> <ul> <li>Is the missing king due to the attacker? ==&gt; YES, the Brave Companions and the Brotherhood don’t have a king:</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
                                  FALSE TRUE
    Baratheon                       6    0
    Bolton                          2    0
    Bracken                         1    0
    Brave Companions                0    1
    Brotherhood without Banners     0    1
    Darry                           1    0
    Free folk                       1    0
    Frey                            2    0
    Greyjoy                         7    0
    Lannister                       8    0
    Stark                           8    0
</code></pre></div></div> <ul> <li>Is the previous conclusion the right one? Let’s Check for other associations. Seems that the Riverlands are land of no-one, and bandits or sellswords prefer to fight in that area!</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
                      FALSE TRUE
    Beyond the Wall     1    0
    The Crownlands      2    0
    The North          10    0
    The Reach           2    0
    The Riverlands     15    2
    The Stormlands      3    0
    The Westerlands     3    0
</code></pre></div></div> <p>The most plausible answer is that the missing value is related to fighters which don’t have a king. We can then fill the missing value with a new one, the “NoKing” value in this case.</p> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">attacker_king</span><span class="p">)[</span><span class="n">match</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">attacker_king</span><span class="p">))]</span><span class="o">=</span><span class="s2">"NoKing"</span><span class="w">
</span></code></pre></div></div> <p><strong>Question Q2</strong>: Who is the king who attacked more? <strong>Expectation E2</strong>: Joffrey/Tommen Baratheon, being Joffrey the most sadistic character. <strong>Answer A2</strong>: Joffrey/Tommen Baratheon</p> <p><img src="/img/posts/2016-08-06-games_of_tufte/unnamed-chunk-9-1.svg" alt=""></p> <h4 id="defender-king">Defender King</h4> <p>This variable represents the defender’s king. The levels are:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>""  "Balon/Euron Greyjoy"  "Joffrey/Tommen Baratheon"  "Mance Rayder"  "Renly Baratheon"
    "Robb Stark"  "Stannis Baratheon"
</code></pre></div></div> <p><strong>Question Q3</strong>: Does the “ “ level mean something? <strong>Expectation E3</strong>: Yes, simply there’s no king. <strong>Answer A3</strong>: No king.</p> <p>From the data we can see that there are 3 battles without a defending king.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>             name                    note
  23 Battle of the Burning Septry     
  25 Retaking of Harrenhal     
  30 Sack of Saltpans
</code></pre></div></div> <p>Digging a little deeper shows that two of them were against the brave Companion which don’t have a king, and the remaining one is a razing, that is, an attack against an undefended position:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
                         ambush  pitched battle  razing  siege
                     0      0         0             1     0
    Baratheon        0      0         0             0     0
    Blackwood        0      0         0             0     0
    Bolton           0      0         0             0     0
    Brave Companions 0      0         2             0     0
    Darry            0      0         0             0     0
    Greyjoy          0      0         0             0     0
    Lannister        0      0         0             0     0
    Mallister        0      0         0             0     0
    Night's Watch    0      0         0             0     0
    Stark            0      0         0             0     0
    Tully            0      0         0             0     0
    Tyrell           0      0         0             0     0
</code></pre></div></div> <p>I feel confident to label the “ “ value to the “NoKing” one.</p> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">defender_king</span><span class="p">)[</span><span class="n">match</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">defender_king</span><span class="p">))]</span><span class="o">=</span><span class="s2">"NoKing"</span><span class="w">
</span></code></pre></div></div> <p><strong>Question Q4</strong>: Whose king undergone more attacks? <strong>Expectation E4</strong>: Robb Stark, it seems that everyone wants the North. <strong>Answer A4</strong>: Robb Stark.</p> <p><img src="/images/2016-08-06-games_of_tufte/unnamed-chunk-13-1.svg" alt=""></p> <p><strong>Observation O1</strong>: From the previous plots, it seems that both Renly Baratheon and Mance Rayder did not have the time, or the will, to perform any attack: they only defended their position.</p> <h4 id="attackers">Attackers</h4> <p>These variables indicates the major houses attacking.</p> <p>Main attackers:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  "Baratheon"  "Bolton"  "Bracken"  "Brave Companions"  "Brotherhood without Banners"
  "Darry"  "Free folk"  "Frey"    "Greyjoy"  "Lannister"         "Stark"
</code></pre></div></div> <p>Second attackers:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>""  "Bolton"  "Frey"  "Greyjoy"  "Karstark"  "Lannister"  "Thenns"  "Tully"
</code></pre></div></div> <p>Third attackers:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>""  "Giants"  "Mormont"
</code></pre></div></div> <p>Fourth attackers:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>""  "Glover"
</code></pre></div></div> <p>It can be seen that even in the attackers levels, except for the variable <em>attacker_1</em>, there are missing information represented as an empty string. Intuitively, this represent the fact that there aren’t the same number of allies for every battles. We can encode the missing values as “NonPresent”, indicating that an attacker is not present for that battle.</p> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">attacker_2</span><span class="p">)[</span><span class="n">match</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">attacker_2</span><span class="p">))]</span><span class="o">=</span><span class="s2">"NotPresent"</span><span class="w">
</span><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">attacker_3</span><span class="p">)[</span><span class="n">match</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">attacker_3</span><span class="p">))]</span><span class="o">=</span><span class="s2">"NotPresent"</span><span class="w">
</span><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">attacker_4</span><span class="p">)[</span><span class="n">match</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">attacker_4</span><span class="p">))]</span><span class="o">=</span><span class="s2">"NotPresent"</span><span class="w">
</span></code></pre></div></div> <p>Another observation is that the House Glover is present all the times that 4 attackers participated in a battle.</p> <p><strong>Question Q5</strong>: What are the battle with the maximum number of attackers? <strong>Expectation E5</strong>: Probably the battles to conquer the North. <strong>Answer A5</strong>: The battles were those carried on by Stannis Baratheon to free the North from the Greyjoy’s and Winterfell from Bolton’s:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>            name                     attacker_king         defender_king       attacker_outcome   region
31  Retaking of Deepwood Motte   Stannis Baratheon    Balon/Euron Greyjoy           win        The North
38  Siege of Winterfell          Stannis Baratheon    Joffrey/Tommen Baratheon                 The North    
</code></pre></div></div> <p><strong>Observation O2</strong>:This last battle does not have an outcome, because in the book we only know a letter send to Jon Snow by Ramsey Bolton which tells him that Stannis died, but we are not sure of the letter trustfulness.</p> <p><strong>Question Q6</strong>: There are other cases with missing <em>attacker_outcome</em>? <strong>Expectation E6</strong>: Probably not, since that is the last battle of the books until now. <strong>Answer A6</strong>: No, that battle is the only one. We can set the missing value to “unknown”:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>            name             attacker_king         defender_king          region
38  Siege of Winterfell   Stannis Baratheon   Joffrey/Tommen Baratheon   The North
</code></pre></div></div> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">attacker_outcome</span><span class="p">)[</span><span class="n">match</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">attacker_outcome</span><span class="p">))]</span><span class="o">=</span><span class="s2">"unknown"</span><span class="w">
</span></code></pre></div></div> <h4 id="defenders">Defenders</h4> <p>This variable indicates the major houses defending.</p> <p>Main defenders:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>""   "Baratheon"  "Blackwood"  "Bolton"  "Brave Companions" "Darry"  "Greyjoy"          
     "Lannister"  "Mallister"  "Night's Watch"  "Stark"  "Tully"  "Tyrell"
</code></pre></div></div> <p>Second defenders:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>""  "Baratheon"  "Frey"
</code></pre></div></div> <p>Third defenders:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  NULL
</code></pre></div></div> <p>Fourth defenders:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  NULL
</code></pre></div></div> <p>It can be seen that even in the defenders levels there are missing information represented as an empty string. As with the attackers, we can encode the missing values as “NonPresent”, indicating that a defender is not present for that battle.</p> <p><strong>Observation O3</strong>: It can be further noticed that nobody defended with more than one ally, and the <em>defender_3</em> and <em>defender_4</em> columns can be removed from the dataset.</p> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">defender_2</span><span class="p">)[</span><span class="n">match</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">defender_2</span><span class="p">))]</span><span class="o">=</span><span class="s2">"NotPresent"</span><span class="w">
</span><span class="n">battles</span><span class="o">$</span><span class="n">defender_3</span><span class="o">=</span><span class="kc">NULL</span><span class="w">
</span><span class="n">battles</span><span class="o">$</span><span class="n">defender_4</span><span class="o">=</span><span class="kc">NULL</span><span class="w">
</span></code></pre></div></div> <p><strong>Question Q7</strong>: What does it mean a “ “ value on the variable <em>defender_1</em>? <strong>Expectation E7</strong>: A battle was fought without defenders, and probably was a razing. <strong>Answer A7</strong>: The battle was indeed a razing and there were nor attackers neither defender kings. We can set the missing value to the “NotPresent” one:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>           name         attacker_king     attacker_1     defender_king   battle_type
 30  Sack of Saltpans      NoKing      Brave Companions     NoKing          razing
</code></pre></div></div> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">defender_1</span><span class="p">)[</span><span class="n">match</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">defender_1</span><span class="p">))]</span><span class="o">=</span><span class="s2">"NotPresent"</span><span class="w">
</span></code></pre></div></div> <h4 id="attacker-outcomes">Attacker outcomes</h4> <p>This variable indicates the outcome from the perspective of the attacker. Categories: win, loss, draw.</p> <p><strong>Question Q8</strong>: What are the possible outcomes? <strong>Expectation E8</strong>: From the codebook, the possible values are “draw”, “win”, “loss”.<strong>Answer A8</strong>: The values are under the expectations but no battle ended with a “draw”:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"unknown"  "loss"  "win"
</code></pre></div></div> <h4 id="battle-types">Battle types</h4> <p>A classification of the battle’s primary type. Categories:</p> <ul> <li>Pitched_battle: armies meet in a location and fight.</li> <li>Ambush: a battle where stealth or subterfuge was the primary means of attack.</li> <li>Siege: a prolonged of a forties position.</li> <li>Razing: an attack against an undefended position</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>""  "ambush"  "pitched battle"  "razing"  "siege"
</code></pre></div></div> <p><strong>Question Q9</strong>: What does it mean the value “ “ on the variable <em>battle_type</em>? <strong>Expectation E9</strong>: Probably an unknown battle type. <strong>Answer A9</strong>: The value is not indicated because is unknown how the battle went and its outcome, being the battle the Siege of Winterfell by Stannis Baratheon:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>               name         attacker_king    attacker_outcome    defender_king         battle_type
38  Siege of Winterfell   Stannis Baratheon     unknown       Joffrey/Tommen Baratheon  
</code></pre></div></div> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">battle_type</span><span class="p">)[</span><span class="n">match</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">battle_type</span><span class="p">))]</span><span class="o">=</span><span class="s2">"unknown"</span><span class="w">
</span></code></pre></div></div> <h4 id="attacker-commander">Attacker commander</h4> <p>Major commanders of the attackers. Commander’s names are included without honorific titles and commanders are separated by commas. Since there are many commanders, only the first are reported:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>""  "Asha Greyjoy"  "Dagmer Cleftjaw"   "Daven Lannister, Ryman Fey, Jaime Lannister"
    "Euron Greyjoy, Victarion Greyjoy"  "Gregor Clegane"
</code></pre></div></div> <p><strong>Question Q10</strong>: What does it mean the value “ “ on the variable <em>attacker_commander</em>? <strong>Expectation E10</strong>: Probably a missing or unknown commander. <strong>Answer A10</strong>: The value is not indicated because there wasn’t a commander, being a battle led by the Brotherhood without Banners. We can set the missing value to a “NotPresent” one:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>              name                attacker_king        attacker_1             defender_king    battle_type
23 Battle of the Burning Septry      NoKing      Brotherhood without Banners     NoKing      pitched battle
</code></pre></div></div> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">attacker_commander</span><span class="p">)[</span><span class="n">match</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">attacker_commander</span><span class="p">))]</span><span class="o">=</span><span class="s2">"NotPresent"</span><span class="w">
</span></code></pre></div></div> <h4 id="defender-commander">Defender commander</h4> <p>Major commanders of the defenders. Commander’s names are included without honoric titles and commanders are separated by commas. Since there are many commanders, only the first one are reported:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>""  "Amory Lorch"  "Asha Greyjoy"  "Beric Dondarrion"  "Bran Stark"  "Brynden Tully"
</code></pre></div></div> <p><strong>Question Q11</strong>: What does it mean the value “ “ on the variable <em>defender_commander</em>? <strong>Expectation E11</strong>: Probably a missing or unknown commander. <strong>Answer A11</strong>: The value is not indicated because there wasn’t a commander, or it was unknown. In the battles where there is “NoKing” as <em>defender_king</em>, we can assume that the a <em>defender_commander</em> was not present. In the rest of the battles, which most of them are led by the Greyjoy’s, probably there was a <em>defender_commander</em> but is not indicated, and thus is unknown:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>            name                    attacker_king            defender_king           battle_type
8   Battle of Moat Cailin          Balon/Euron Greyjoy        Robb Stark pitched         battle
9   Battle of Deepwood Motte       Balon/Euron Greyjoy        Robb Stark                 siege
10  Battle of the Stony Shore      Balon/Euron Greyjoy        Robb Stark                 ambush
13  Sack of Torrhen's Square       Balon/Euron Greyjoy        Balon/Euron Greyjoy        siege
21  Siege of Darry                  Robb Stark                Joffrey/Tommen Baratheon   siege
23  Battle of the Burning Septry   NoKing                     NoKing pitched             battle
29  Fall of Moat Cailin            Joffrey/Tommen Baratheon   Balon/Euron Greyjoy        siege
30  Sack of Saltpans               NoKing                     NoKing                     razing
32  Battle of the Shield Islands   Balon/Euron Greyjoy        Joffrey/Tommen Baratheon   pitched battle
33  Invasion of Ryamsport,         Balon/Euron Greyjoy        Joffrey/Tommen Baratheon   razing
    Vinetown, and Starfish Harbor
</code></pre></div></div> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">defender_commander</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">defender_commander</span><span class="p">),</span><span class="w"> </span><span class="s2">"NotPresent"</span><span class="p">,</span><span class="s2">"unknown"</span><span class="p">)</span><span class="w">
</span><span class="n">battles</span><span class="p">[</span><span class="n">battles</span><span class="o">$</span><span class="n">defender_king</span><span class="o">==</span><span class="s2">"NoKing"</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">battles</span><span class="o">$</span><span class="n">defender_commander</span><span class="o">==</span><span class="s2">""</span><span class="p">,</span><span class="s2">"defender_commander"</span><span class="p">]</span><span class="o">=</span><span class="s2">"NotPresent"</span><span class="w">
</span><span class="n">battles</span><span class="p">[</span><span class="n">battles</span><span class="o">$</span><span class="n">defender_commander</span><span class="o">==</span><span class="s2">""</span><span class="p">,</span><span class="s2">"defender_commander"</span><span class="p">]</span><span class="o">=</span><span class="s2">"unknown"</span><span class="w">
</span><span class="n">battles</span><span class="o">$</span><span class="n">defender_commander</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">droplevels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">defender_commander</span><span class="p">)</span><span class="w">
</span></code></pre></div></div> <h4 id="battles-locations">Battles locations</h4> <p>This variable represents the battle location. Levels are:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>""  "Castle Black"  "Crag"   "Darry"  "Deepwood Motte"  "Dragonstone"
</code></pre></div></div> <p><strong>Question Q12</strong>: What does it mean the value “ “ on the variable <em>location</em>? <strong>Expectation E12</strong>: Probably a missing or unknown location <strong>Answer A12</strong>: The location <a href="http://awoiaf.westeros.org/index.php/Battle_at_the_burning_septry" rel="external nofollow noopener" target="_blank">is not known</a>:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>             name                 attacker_king   defender_king
23 Battle of the Burning Septry       NoKing          NoKing
</code></pre></div></div> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">location</span><span class="p">)[</span><span class="n">match</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="n">levels</span><span class="p">(</span><span class="n">battles</span><span class="o">$</span><span class="n">location</span><span class="p">))]</span><span class="o">=</span><span class="s2">"unknown"</span><span class="w">
</span></code></pre></div></div> <h4 id="battle-regions">Battle regions</h4> <p>The region where the battle takes place. Categories: Beyond the Wall, The North, The Iron Islands, The Riverlands, The Vale of Arryn, The Westerlands, The Crownlands, The Reach, The Stormlands, Dorne</p> <p><strong>Question Q13</strong>: What are the values assume med by the variable? <strong>Expectation E13</strong>: The values assumed by the variable are those described in the codebook. <strong>Answer A13</strong>: The answer meets the expectation, except for the regions “The Iron Islands”, “The Vale of Arryn” and “Dorne”, probably because no battle were fought in those regions:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"Beyond the Wall"  "The Crownlands"  "The North"  "The Reach"  "The Riverlands"  
"The Stormlands"   "The Westerlands"
</code></pre></div></div> <h3 id="numerical-data">Numerical Data</h3> <p>This section deals with the understanding and cleaning of numerical variables in the dataset.</p> <h4 id="year">Year</h4> <p>The year of the battle. We convert it to a factor variable for convenience and representation, since it assumes only \(3\) different values.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   Min.  1st Qu.  Median   Mean    3rd Qu.  Max.
  298.0   299.0    299.0   299.1   300.0   300.0
</code></pre></div></div> <h4 id="attacker-size">Attacker size</h4> <p>The size of the attacker’s force. No distinction is made between the types of soldiers such as cavalry and footmen:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   Min.  1st Qu.  Median  Mean   3rd Qu.   Max.   NA's
    20    1375     4000   9943    8250   100000    14
</code></pre></div></div> <p>From the summary we can see that the distribution of the attacker army has a mean of about \(10000\) soldiers , but is very scattered with many missing numbers. Particularly impressing is maximum number of \(100000\) men.</p> <p><strong>Question Q14</strong>: Which is the battle with \(100000\) men? <strong>Expectation E14</strong>: A battle in the North with the wildlings. <strong>Answer A14</strong>: The battle was the assault of Castle Black by the wildlings and free folk, when Jon Snow loses Igritte. We can see that there is an error in the data, because we know that Stannis Baratheon was on the Night’s side, defending the Nigth’s Watch and seizing Mance Rayder. Furthermore, Stannis won the battle and Mance Rayder lost it, thus the <em>attacker_king</em> and <em>defender_king</em> variables should be swapped. The number of \(100000\) is more meaningful now if we think of it as the army of all the freefolks, as it is also reported <a href="http://awoiaf.westeros.org/index.php/Battle_of_Castle_Black" rel="external nofollow noopener" target="_blank">here</a>:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>           name               attacker_king     defender_king   attacker_1    defender_1    attacker_outcome
28 Battle of Castle Black   Stannis Baratheon    Mance Rayder    Free folk   Night's Watch       loss
</code></pre></div></div> <p><strong>Question Q15</strong>: When attacking, which battle type required more men? <strong>Expectation E15</strong>: Probably the <em>pitched battle</em> type, since it requires more men than ambush or a siege, which require more discretion and tools (trebuchets, rams) capability respectively. <strong>Answer 15</strong>: The <em>pitched battle</em> has the higher median (about \(10000\) troops) and it is very skewed around this value, and only \(25%\) of values are lower than \(3000\) troops. Perhaps surprising, the median of the <em>ambush</em> distribution is similar to that of <em>siege</em>, being the latter more concentrated, indicating that there some standard number of troops to do a siege. Here we have isolated cases of ambushes with less than \(30\) men, and a siege with \(100000\) men (the Mance Rayder attack to Castle Black). We Do not consider “unknown” o “razing” battles since they have few or none observations. <img src="/images/2016-08-06-games_of_tufte/unnamed-chunk-35-1.svg" alt=""></p> <p><strong>Question Q16</strong>: When attacking, which king had the most numerous army? <strong>Expectation E16</strong>: We already know that Mance Rayder commanded \(100000\) men. <strong>Answer 16</strong>: Mance had the most numerous attacking army, but he attacked only one time, so it is more interesting to considered the other kings. I made the choice to exclude from the comparison also the “NoKing” category, since it has few observations. We can see from the plot that the Greyjoy’s had the smallest army, ranging from \(10\) to \(1000\) men. The Lannister’s and the Stark’s show a high median value army, but that also had great variation in its forces, mainly for Robb Stark. This can be probably due to his attitude to perform ambush attacks with few men. Stannis Baratheon forces undergo few losses, having a quite concentrated distribution. <img src="/images/2016-08-06-games_of_tufte/unnamed-chunk-36-1.svg" alt=""></p> <h4 id="defender-size">Defender size</h4> <p>The size of the defender’s force. No distinction is made between the types of soldiers such as cavalry and footmen.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   Min.  1st Qu.  Median  Mean   3rd Qu.  Max.   NA's
   100    1070    6000    6428   10000   20000     19
</code></pre></div></div> <p><strong>Question Q17</strong>: When attacking, which king had the most numerous army? <strong>Expectation E17</strong>:Probably the Lannister’s or Stannis Baratheon. <strong>Answer 17</strong>: Apart from the “Noking” and “Renly Baratheon”, which have few observation, the plots show that the Lannister’s defended their position with more troops than the other, and Stannis Baratheon, despite attacking with an high number of troops, defended with very few ones. <img src="/img/posts/2016-08-06-games_of_tufte/unnamed-chunk-38-1.svg" alt=""></p> <h1 id="acknowledgements">Acknowledgements</h1> <ul> <li> <a href="https://www.kaggle.com/sergeycherkasov/d/mylesoneill/game-of-thrones/test-test" rel="external nofollow noopener" target="_blank">Some analysis of Game of Throne data</a> - Sergey Cherkasov</li> <li> <a href="https://www.kaggle.com/shaildeliwala/d/mylesoneill/game-of-thrones/exploratory-analysis-and-predictions" rel="external nofollow noopener" target="_blank">Exploratory Analysis and Predictions</a> - Shail Deliwala</li> <li> <a href="https://www.kaggle.com/gowrishankarin/d/mylesoneill/game-of-thrones/analysis-on-battles" rel="external nofollow noopener" target="_blank">Systematic Analysis on GoT Battles</a> - Gowri Shankar</li> <li> <a href="http://motioninsocial.com/tufte/" rel="external nofollow noopener" target="_blank">Tufte in R</a> - Lukasz Piwek</li> </ul> </div> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Mirko Mazzoleni. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?601a2d3465e2a52bec38b600518d5f70"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"about",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-publications",title:"publications",description:"List of publications authored and co-authored.",section:"Navigation",handler:()=>{window.location.href="/publications/"}},{id:"nav-teaching",title:"teaching",description:"List of courses that I currently teach or that I taught in the past.",section:"Navigation",handler:()=>{window.location.href="/teaching/"}},{id:"post-a-games-of-tufte-part-i",title:"A Games of Tufte - Part I",description:"Visualization of Game of Thrones battles",section:"Posts",handler:()=>{window.location.href="/blog/2016/game_of_tutfe/"}},{id:"news-new-paper-out-sparkles-design-of-supervision-solutions-for-industrial-equipment-schemes-tools-and-guidelines-for-the-user-https-www-sciencedirect-com-science-article-pii-s2452414x24001110-journal-of-industrial-information-integration",title:'New paper out! <img class="emoji" title=":sparkles:" alt=":sparkles:" src="https://github.githubassets.com/images/icons/emoji/unicode/2728.png" height="20" width="20"> [Design of supervision solutions for industrial equipment: Schemes, tools...',description:"",section:"News"},{id:"news-from-september-30-to-october-2-i-will-be-at-the-32th-workshop-on-european-research-network-system-identification-erns-https-automatica-dei-unipd-it-32nd-ernsi-organization-in-venezia-italy",title:"From September 30 to October 2, I will be at the [32th workshop...",description:"",section:"News"},{id:"socials-orcid",title:"ORCID",section:"Socials",handler:()=>{window.open("https://orcid.org/0000-0002-7116-135X","_blank")}},{id:"socials-google-scholar",title:"Google Scholar",section:"Socials",handler:()=>{window.open("https://scholar.google.com/citations?user=_VMbnzQAAAAJ","_blank")}},{id:"socials-researchgate",title:"ResearchGate",section:"Socials",handler:()=>{window.open("https://www.researchgate.net/profile/Mirko-Mazzoleni/","_blank")}},{id:"socials-scopus",title:"Scopus",section:"Socials",handler:()=>{window.open("https://www.scopus.com/authid/detail.uri?authorId=56692522700","_blank")}},{id:"socials-linkedin",title:"LinkedIn",section:"Socials",handler:()=>{window.open("https://www.linkedin.com/in/mirkomazzoleni","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>